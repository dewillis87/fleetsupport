<!DOCTYPE html>
<html>
<head>
    <title>Fleet Support</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="style.css"> 
</head>
<body onload="checkCookie()">

    <button class="tablink" onclick="openPage('Null', this, '#fff')">Null a VIN</button>
    <button class="tablink" onclick="openPage('Add', this, '#fff')">Add a VIN</button>
    <button class="tablink" onclick="openPage('Data-Export', this, '#fff')">Data Export</button>
  <!--  <button class="loginlink" onclick="openPage('Login', this, '#fff');checkLoginFlag()" id="defaultOpen">Login</button>-->

<div id="Add" class="tabcontent">
    <add>
        <form>
            <h1>Add a VIN</h1>
            <p>Here you can add a VIN to a specific ESN.</p>
            <div>
                <p>VIN:<input type="text" name="VIN" id="single_add_VIN">
                ESN:<input type="text" name="ESN" id="single_add_ESN"></p>   
            </div>
                  
        <div>
          <p><button type="button" value="Submit" class="button" onclick="addVinApi()">Submit</button></p>
        </div>
      </form>
        
            <!--Bulk upload and send-->
        <form>
        <h1>Bulk Add</h1>
        <p>To add multiple VINs and ESNs, follow these steps:</p>    
        <content>
            <p>1) Download the preformatted .csv file.</p>
                <input type="button" class="button" onclick="download_add_csv()" value="Download .csv">
            <p>2) Copy the VINs and ESNs you wish to add into their respective columns.  Ensure the VIN you would like to add to an ESN is directly next to said ESN.</p>
            <p>3) Save this file and choose it to upload. When uploaded, the VINs will be added to the ESNs.</p>
                <label for="files-add" class="button">Upload .csv</label>
                <input id="files-add" style="visibility: hidden" type="file" name="addcsv" onchange="parseAddFile(this)" accept = ".csv">
                <div id="file-upload-filename-add"></div>
            <p>4) When finished, click "Submit." </p>
            <div>
              <p><button type="submit" name="Submit" value="Sent">Submit</button></p>
            </div>
        </content>
        </form>
        
    </add>
</div>
    
 
<div id="Null" class="tabcontent">
    <null>
        <form>
            <h1>Null a VIN</h1>
            <p>To null a single VIN, enter the associated ESN here:</p>
            <div>
                <p>ESN:
                    <input type="text" name="single_ESN" id="single_null_ESN" required>
                    <button type="button" value="Submit" class="button" onclick="nullVinApi()">Submit</button>
                </p>
            </div>
        </form>
        
        <!--Upload and send-->
        <form>
        <h1>Bulk Null</h1>
        <p>To null multiple VINs at once, follow these steps:</p>    
        <content>
            <p>1) Download the preformatted .csv file.</p>
                <input type="button" class="button" onclick="download_null_csv()" value="Download .csv">
            <p>2) Copy the ESNs you wish to null into the first column under the header "ESN."</p>
            <p>3) Save this file and choose it to upload.</p>
                <label for="files-null" class="button">Upload .csv</label>
                <input id="files-null" style="visibility: hidden" type="file" name="nullcsv" onchange="parseNullFile(this)" accept = ".csv">
                <div id="file-upload-filename-null"></div>
            <p>4) When finished, click "Submit."  The VINs associated with these ESNs will be nulled.</p>
            <div>
              <p><button type="button" name="Submit" value="Sent">Submit</button></p>
            </div>
        </content>
        </form>        
        
    </null>
</div>

<div id="Data-Export" class="tabcontent">
    <data>
        <h1>DataFlow Data Export</h1>
        <p>Enter your ESN below.  The table will populate with the appropriate data.  To download the table, click the "Download CSV" button.</p>

        <div class="sub">
            <form action=https://runm-east.dataflow.iot.att.com/d339eca12b448/b6fbc007f23e/74b320c6f5ebe5e/in/flow/Fleet-Support-DataExport method="post" enctype="text/plain" target="_self">
                <input type="text" name="ESNvalue" id="ESNvalue">
                <input type="submit" class="button" value="Submit">
                <input type="button" class="button" value="Download CSV" onclick="download_csv()">     
            </form>
        </div>

        <div id="div1"></div>
    </data>    
</div>

<div id="Login" class="logincontent">
    <null>
        <form>
            <h1>Login</h1>
            <p>Please login using your DataFlow credentials</p>
            <div>
                <p>Username:
                    <input type="text" name="username" id="username" required>
                    Password:
                    <input type="password" name="password" id="password" required>
                    <button type="button" value="Submit" class="button" onclick="validateLogin()">Submit</button>
                </p>
            </div>
        </form>
    </null>
</div>

<!--Download bulk-null.csv script-->
<script type="text/javascript" src="functions/downloadBulkNull.js"></script>    
 
<!--show uploaded file name script Null-->   
<script type="text/javascript" src="functions/showUploadFileNameNull.js"></script>    
    
<!--Download bulk-add.csv script-->
<script type="text/javascript" src="functions/downloadBulkAdd.js"></script>    

<!--show uploaded file name script Add--> 
<script type="text/javascript" src="functions/showUploadFileNameAdd.js"></script>     

<!--Check if user logged in with flag-->
<script type="text/javascript" src="functions/checkLoginFlag.js"></script>

<!--Check if user session is live -->
<script type="text/javascript" src="functions/cookie.js"></script>

<script type="text/javascript" src="functions/hideElements.js"></script>

<script type="text/javascript" src="functions/api/validateLogin.js"></script>  

<script type="text/javascript" src="functions/api/nullVinApi.js"></script>

<script type="text/javascript" src="functions/api/addVinApi.js"></script>

<script type="text/javascript" src="functions/api/authToken.js"></script>

<script type="text/javascript" src="functions/api/bulkNullVinApi.js"></script>

<script type="text/javascript" src="functions/api/bulkAddVinApi.js"></script>

<script type="text/javascript" src="functions/drawTable.js"></script>
    
<script type="text/javascript" src="functions/downloadESN.js"></script>           
   
</body>
</html> 